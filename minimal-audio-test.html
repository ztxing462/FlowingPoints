<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>极简音频测试</title>
</head>
<body>
    <h1>极简音频测试</h1>
    
    <!-- 直接从文件系统打开时，使用相对路径 -->
    <audio controls>
        <source src="bgm/lovely.mp3" type="audio/mpeg">
        您的浏览器不支持音频元素。
    </audio>
a
    
    <script>
        // 简单的错误处理
        const audio = document.querySelector('audio');
        audio.addEventListener('error', function() {
            console.error('音频加载错误:', audio.error);
            if (audio.error) {
                console.log('错误代码:', audio.error.code);
                switch(audio.error.code) {
                    case MediaError.MEDIA_ERR_ABORTED:
                        console.log('加载被中止');
                        break;
                    case MediaError.MEDIA_ERR_NETWORK:
                        console.log('网络错误');
                        break;
                    case MediaError.MEDIA_ERR_DECODE:
                        console.log('解码错误');
                        break;
                    case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:
                        console.log('格式不支持');
                        break;
                }
            }
        });
        
        // 加载事件
        audio.addEventListener('loadedmetadata', function() {
            console.log('音频元数据已加载，时长:', audio.duration, '秒');
        });
        
        console.log('页面已加载');
    </script>
</body>
</html>